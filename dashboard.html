
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Asianloop Staff Portal — Dashboard</title>
  <link rel="icon" href="favicon.ico" />
  <link rel="stylesheet" href="public/css/dashboard.css" />
</head>
<body>
  <header class="al-header">
    <div class="al-inner">
      <a class="al-brand" href="https://asian-loop.com" aria-label="Asianloop">
        <img src="/public/images/logo.jpg" alt="Asianloop logo" />
      </a>
      <nav class="al-nav">
          <div class="al-user">Welcome, <span id="userEmail">—</span></div>
<form action="/logout" method="post">
  <button class="btn btn-logout" type="submit">Logout</button>
</form>

      </nav>
    </div>
  </header>

  <main class="al-main">
    <section class="al-card">
      <h1>Dashboard (Under Construction)</h1>
      <p>Thanks for signing in. The staff dashboard is being built.</p>

      <ul class="todo">
        <li>Quick tiles to internal apps (CustodyCalc, Regulation Hub, Calibration Intake)</li>
        <li>Announcements &amp; notices</li>
        <li>Resources (logos, letterheads, SOPs)</li>
        <li>Role-based access (admin, staff, contractor)</li>
      </ul>

      <div class="cta-row">
<form action="/logout" method="post" style="display:inline;">
  <button class="btn" type="submit">Back to Login</button>
</form>

      </div>
    </section>
  </main>

  <footer class="al-footer">
    © <span id="year"></span> Asianloop Sdn Bhd — Internal use only.
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();



  // footer year
  document.getElementById('year').textContent = new Date().getFullYear();

  // read simple cookie value
  function getCookie(name) {
    const m = document.cookie.match(new RegExp('(?:^|; )' + name.replace(/([$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1') + '=([^;]*)'));
    return m ? decodeURIComponent(m[1]) : null;
  }

  const email = getCookie('al_user_email');
  if (email) {
    document.getElementById('userEmail').textContent = email;
  }


</script>


<!-- ⬇️ Test Dashboard Shortcut (drop into dashboard.html) -->
<button id="openTestDash"
  style="margin-left:12px; padding:8px 12px; border-radius:10px; border:1px solid rgba(0,0,0,.15);
         background:linear-gradient(180deg,#fff,#f5f7fb); cursor:pointer; font-weight:600;">
  Open Test Dashboard
</button>

<a class="btn" href="/testdash" target="_blank">Open Test Dashboard 2</a>


  
<script>
(function () {
  const candidates = [
    '/testdash.html',                // root beside dashboard.html
    '/public/testdash.html'          // inside /public
  ];

  const openFirstFound = async () => {
    for (const path of candidates) {
      try {
        const res = await fetch(path, { method: 'HEAD', cache: 'no-store' });
        if (res.ok) {
          window.open(path, '_blank');
          return;
        }
      } catch (e) { /* continue */ }
    }
    alert([
      'Could not find testdash.html at:',
      '- /testdash.html',
      '- /public/testdash.html',
      '',
      'Fix:',
      '• Put testdash.html beside dashboard.html (then the first path works), OR',
      '• Put it in /public (then /public/testdash.html works).',
      '',
      'Sanity check:',
      'Try opening /public/css/dashboard.css in your browser.',
      'If that loads, place testdash.html in /public.'
    ].join('\n'));
  };

  document.getElementById('openTestDash').addEventListener('click', openFirstFound);
})();
</script>
<!-- ⬆️ End Test Dashboard Shortcut -->





  

</body>
</html>
